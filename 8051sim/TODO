memoize synthesize
eliminate spurious if's in synthesize
figure out how to reuse simulation results.
figure out story of modularization

